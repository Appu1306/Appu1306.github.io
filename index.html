<html>
<head>
<title>reCaptcha validation demo</title>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script>
        function PostContact(){


          var response = grecaptcha.getResponse();
          console.log(response);
          if(response.length == 0) 
          {
            alert("Please verify you are human");
          }
          else{
            let name = document.getElementById("fullName").value;
          console.log(name);
          let request = new XMLHttpRequest();
                var params = JSON.stringify({"Name": name});
          request.open("POST",`http://localhost:93/0/ServiceModel/UsrAnonymousConfigurationService.svc/GetContactIdByName`);
          request.send(params);
          request.onload = () => {
            console.log(request);
            if(request.status == 200)
            {
              console.log(JSON.parse(request.response));
            }
            else{
              console.log(`error ${request.status} ${request.statusText}`);
            }
          }
          }
        }
</script>
</head>
<body>
<div class="form_container">
<form  id="my_captcha_form">
<label>Full Name : </label>
<input type="text"  id="fullName">
<div class="g-recaptcha" 
data-sitekey="6LfWywkkAAAAADUyj31W3YI-xztjaJhtygqU6CsE" ></div>
<p>
<button type="submit" id="myBtn" onclick="PostContact()">Submit</button>
</p>
</form>
</div>
</body>
</html>
